# ============================================================
# WEATHERB ENVIRONMENT VARIABLES
# ============================================================
# Copy this file to .env.local for development
# NEVER commit .env.local or any file with real secrets
# ============================================================


# ============================================================
# PHASE 0-3: FOUNDATIONS, PROVIDER, CONTRACTS, FDC
# ============================================================

# ----- Database (Epic 0) -----
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/weatherb

# ----- Redis (Epic 0) -----
REDIS_URL=redis://localhost:6379

# ----- Blockchain RPC (Epic 2) -----
# Coston2 Testnet
RPC_URL=https://coston2-api.flare.network/ext/C/rpc
# Flare Mainnet (uncomment when ready)
# RPC_URL=https://flare-api.flare.network/ext/C/rpc

# ----- Contract Deployment (Epic 2) -----
# Generate a fresh wallet for deployments - NEVER use your main wallet
DEPLOYER_PRIVATE_KEY=0x_YOUR_DEPLOYER_PRIVATE_KEY_HERE

# ----- Weather Provider (Epic 1) -----
# Options: met-no | nws | open-meteo
WEATHER_PROVIDER=met-no
# User-Agent for MET Norway (required - use your app name + contact)
MET_NO_USER_AGENT=WeatherB/1.0 (your-email@example.com)

# ----- Flare Data Connector (Epic 3) -----
# FDC Hub for attestation requests
FDC_HUB_URL=https://fdc-hub.flare.network


# ============================================================
# PHASE 4-5: AUTOMATION SERVICES, WEB APP
# ============================================================

# ----- Deployed Contract Address (Epic 4, 5) -----
# Set after deploying WeatherMarket.sol to testnet/mainnet
CONTRACT_ADDRESS=0x_YOUR_DEPLOYED_CONTRACT_ADDRESS

# ----- Settlement Bot (Epic 4) -----
# Generate a fresh wallet - fund with FLR for gas
SETTLER_PRIVATE_KEY=0x_YOUR_SETTLER_PRIVATE_KEY_HERE

# ----- Market Scheduler (Epic 4) -----
# Generate a fresh wallet - fund with FLR for gas
SCHEDULER_PRIVATE_KEY=0x_YOUR_SCHEDULER_PRIVATE_KEY_HERE

# ----- Scheduler Config (Epic 4) -----
DAILY_MARKET_COUNT=5
CADENCE_MINUTES=5
TESTING_MODE=true
# Cron expression for daily market creation (default: midnight UTC)
SCHEDULE_TIME_CRON=0 0 * * *
MAX_SETTLEMENT_RETRIES=5
SETTLEMENT_POLL_INTERVAL_MS=60000

# ----- Frontend - Public (Epic 5) -----
# These are exposed to the browser - safe to be public
NEXT_PUBLIC_CHAIN_ID=114
# ^ 114 = Coston2 testnet, 14 = Flare mainnet
NEXT_PUBLIC_CONTRACT_ADDRESS=0x_YOUR_DEPLOYED_CONTRACT_ADDRESS
NEXT_PUBLIC_THIRDWEB_CLIENT_ID=_YOUR_THIRDWEB_CLIENT_ID_HERE


# ============================================================
# PHASE 6-8: ADMIN, VOTING, AI REPORTS
# ============================================================

# ----- Admin Panel (Epic 6) -----
# Comma-separated list of wallet addresses with admin access
ADMIN_WALLETS=0x_YOUR_ADMIN_WALLET_ADDRESS

# ----- Email Reports (Epic 8) -----
# Get from resend.com
RESEND_API_KEY=re_YOUR_RESEND_API_KEY
# Where weekly AI reports are sent
ADMIN_REPORT_EMAIL=your-email@example.com

# ----- AI Summary (Epic 8) -----
# Get from platform.openai.com
OPENAI_API_KEY=sk-YOUR_OPENAI_API_KEY

# ----- Magic Links (Epic 8) -----
# Generate with: openssl rand -hex 32
MAGIC_LINK_SECRET=_GENERATE_A_32_BYTE_HEX_SECRET

# ----- App URL (Epic 8) -----
# Used for magic link generation
APP_URL=http://localhost:3000


# ============================================================
# PHASE 9-10: INDEXING, SECURITY, MONITORING
# ============================================================

# ----- Alerts (Epic 9, 10) -----
# Discord webhook for critical alerts (optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK

# ----- Logging (Epic 9) -----
LOG_LEVEL=info
# Options: trace | debug | info | warn | error
